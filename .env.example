# =================================
# MAINFRAME AI ASSISTANT - CONFIGURATION
# =================================

# Electron Application Configuration
ELECTRON_IS_DEV=true
ELECTRON_MAIN_PATH=dist/main/index.js

# Database Configuration
DB_PATH=./data/kb.db
DB_BACKUP_PATH=./data/backups

# API Configuration
API_PORT=3001
API_HOST=localhost

# Security
ENCRYPTION_KEY=your-32-character-encryption-key-here
JWT_SECRET=your-jwt-secret-key-here

# Application Features
ENABLE_ANALYTICS=false
ENABLE_CRASH_REPORTING=false
ENABLE_AUTO_UPDATES=true

# Development
DEBUG_MODE=false
VERBOSE_LOGGING=false

# =================================
# CACHE CONFIGURATION
# =================================

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=search:cache:
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=100
REDIS_MAX_MEMORY=256mb

# Redis Sentinel (High Availability)
REDIS_MASTER_NAME=mymaster
REDIS_SENTINEL_PORT=26379
REDIS_SENTINEL_QUORUM=1
REDIS_SENTINEL_DOWN_AFTER=5000
REDIS_SENTINEL_PARALLEL_SYNCS=1
REDIS_SENTINEL_FAILOVER_TIMEOUT=10000

# Memory Cache Configuration
MEMORY_CACHE_SIZE=100
MEMORY_CACHE_TTL=300000
MEMORY_CACHE_CHECK_PERIOD=60000

# Cache Metrics Configuration
CACHE_METRICS_ENABLED=true
CACHE_METRICS_FLUSH_INTERVAL=60000
CACHE_METRICS_RETENTION_DAYS=30

# Fallback Configuration
ENABLE_MEMORY_FALLBACK=true
MEMORY_FALLBACK_SIZE=50

# Cache Manager Service
CACHE_MANAGER_PORT=8080
CACHE_MANAGER_HEALTH_CHECK_PATH=/health

# Monitoring Ports
REDIS_EXPORTER_PORT=9121
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_ADMIN_PASSWORD=admin

# Load Balancer
CACHE_LB_PORT=80

# Application Environment
NODE_ENV=production
LOG_LEVEL=info

# Search Service Configuration
SEARCH_CACHE_DEFAULT_TTL=300000
SEARCH_CACHE_MAX_QUERY_LENGTH=1000
SEARCH_CACHE_EXCLUDE_PATTERNS=debug,test,temp

# Performance Tuning
CACHE_COMPRESSION_ENABLED=true
CACHE_COMPRESSION_THRESHOLD=1024
CACHE_BATCH_SIZE=50
CACHE_CONCURRENT_OPERATIONS=10

# Security
CACHE_ENCRYPTION_KEY=
CACHE_SECURE_MODE=false

# Development Settings (override in .env.local)
# NODE_ENV=development
# LOG_LEVEL=debug
# REDIS_PASSWORD=
# CACHE_METRICS_ENABLED=true

# Production Settings (override in .env.production)
# NODE_ENV=production
# LOG_LEVEL=warn
# REDIS_PASSWORD=your-secure-redis-password
# CACHE_ENCRYPTION_KEY=your-32-character-encryption-key
# CACHE_SECURE_MODE=true

# Docker Compose Overrides
COMPOSE_PROJECT_NAME=mainframe-cache
COMPOSE_HTTP_TIMEOUT=60

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=30

# Backup Configuration
CACHE_BACKUP_ENABLED=true
CACHE_BACKUP_INTERVAL=3600000
CACHE_BACKUP_RETENTION=7

# Advanced Redis Configuration
REDIS_MAXCLIENTS=1000
REDIS_TCP_KEEPALIVE=60
REDIS_TIMEOUT=300
REDIS_LRU_SAMPLES=5

# Memory Optimization
REDIS_HASH_MAX_ZIPLIST_ENTRIES=512
REDIS_HASH_MAX_ZIPLIST_VALUE=64
REDIS_LIST_MAX_ZIPLIST_SIZE=-2
REDIS_SET_MAX_INTSET_ENTRIES=512
REDIS_ZSET_MAX_ZIPLIST_ENTRIES=128
REDIS_ZSET_MAX_ZIPLIST_VALUE=64

# Monitoring Configuration
PROMETHEUS_RETENTION_TIME=15d
GRAFANA_INSTALL_PLUGINS=redis-datasource,prometheus
METRICS_COLLECTION_INTERVAL=15s

# SSL/TLS Configuration (for production)
REDIS_TLS_ENABLED=false
REDIS_TLS_CERT_FILE=
REDIS_TLS_KEY_FILE=
REDIS_TLS_CA_FILE=

# Cluster Configuration (for Redis Cluster mode)
REDIS_CLUSTER_ENABLED=false
REDIS_CLUSTER_NODES=
REDIS_CLUSTER_MAX_REDIRECTIONS=16

# Rate Limiting
CACHE_RATE_LIMIT_ENABLED=true
CACHE_RATE_LIMIT_WINDOW=60000
CACHE_RATE_LIMIT_MAX_REQUESTS=1000

# Circuit Breaker
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIME=30000

# Custom Cache Strategies
CACHE_STRATEGY_SEARCH_RESULTS=lru
CACHE_STRATEGY_USER_DATA=lfu
CACHE_STRATEGY_STATIC_CONTENT=fifo

# Data Validation
CACHE_VALIDATE_SCHEMA=true
CACHE_SANITIZE_KEYS=true
CACHE_MAX_KEY_LENGTH=250
CACHE_MAX_VALUE_SIZE=1048576

# Performance Monitoring
PERFORMANCE_MONITORING_ENABLED=true
SLOW_QUERY_THRESHOLD=1000
MEMORY_USAGE_ALERT_THRESHOLD=80
CPU_USAGE_ALERT_THRESHOLD=70

# Debugging
DEBUG_CACHE_OPERATIONS=false
DEBUG_REDIS_COMMANDS=false
DEBUG_MEMORY_USAGE=false
DEBUG_PERFORMANCE=false

# =================================
# AI INTEGRATION CONFIGURATION
# =================================

# Google Gemini AI
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-pro
GEMINI_TEMPERATURE=0.3
GEMINI_MAX_TOKENS=2048

# OpenAI (Alternative Provider - Future)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-3.5-turbo

# AI Service Settings
AI_PROVIDER=gemini # Options: gemini, openai
AI_TIMEOUT_MS=30000
AI_RETRY_ATTEMPTS=3
AI_RETRY_DELAY_MS=1000

# Cost Control & Authorization
AI_MAX_COST_AUTO_APPROVE=0.01 # USD - Maximum cost for auto-approval
AI_REQUIRES_AUTHORIZATION=true # Require user authorization for AI operations
AI_DAILY_BUDGET_USD=5.00 # Daily budget limit
AI_MONTHLY_BUDGET_USD=100.00 # Monthly budget limit
AI_ALERT_THRESHOLD_PERCENT=80 # Alert when budget reaches this percentage

# AI Features for Incident Management
AI_ENABLE_SEMANTIC_SEARCH=true
AI_ENABLE_SOLUTION_SUGGESTIONS=true
AI_ENABLE_PATTERN_ANALYSIS=true
AI_ENABLE_AUTO_CATEGORIZATION=true
AI_SEMANTIC_CACHE_TTL=3600000 # 1 hour in ms

# Privacy & Compliance
AI_ANONYMIZE_DATA=false # Anonymize data before sending to AI
AI_LOG_OPERATIONS=true # Log all AI operations for audit
AI_DATA_RETENTION_DAYS=90 # Days to retain AI operation logs