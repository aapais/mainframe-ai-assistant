/**\n * Hybrid Search Example - UC001 Implementation Demo\n * \n * Complete example showing how to integrate and use the hybrid search workflow\n * with all UC001 requirements:\n * 1. Local search <500ms requirement\n * 2. Authorization dialog for AI search\n * 3. Progressive enhancement\n * 4. Result merging and deduplication\n * 5. Performance monitoring\n */\n\nimport React, { useState } from 'react';\nimport { HybridSearchInterface } from '../components/search/HybridSearchInterface';\nimport { PerformanceMonitorDashboard } from '../components/search/PerformanceMonitorDashboard';\nimport { SearchProvider } from '../renderer/contexts/SearchContext';\nimport { Card, CardContent, CardHeader, CardTitle } from '../components/ui/card';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../components/ui/tabs';\nimport { Badge } from '../components/ui/badge';\nimport { Alert, AlertDescription } from '../components/ui/alert';\nimport { Button } from '../components/ui/button';\nimport {\n  Brain,\n  Zap,\n  BarChart3,\n  Search,\n  CheckCircle,\n  AlertTriangle,\n  Info,\n  Settings\n} from 'lucide-react';\n\n/**\n * Main example component demonstrating hybrid search implementation\n */\nexport function HybridSearchExample() {\n  const [activeTab, setActiveTab] = useState('search');\n  const [performanceAlerts, setPerformanceAlerts] = useState<string[]>([]);\n  const [searchMetrics, setSearchMetrics] = useState<any>(null);\n  \n  const handleSearchComplete = (results: any) => {\n    setSearchMetrics({\n      totalResults: results.results.length,\n      localResults: results.performance.localCompleted ? 'Completed' : 'Failed',\n      aiResults: results.performance.aiCompleted ? 'Enhanced' : 'Local Only',\n      searchTime: results.performance.totalTime,\n      complianceStatus: results.performance.localSearchTime <= 500 ? 'Compliant' : 'Non-compliant'\n    });\n  };\n  \n  const handlePerformanceAlert = (metrics: any) => {\n    if (metrics.exceeded) {\n      setPerformanceAlerts(prev => [\n        `Performance alert: ${metrics.localSearchTime}ms exceeds 500ms threshold`,\n        ...prev.slice(0, 4) // Keep last 5 alerts\n      ]);\n    }\n  };\n  \n  return (\n    <SearchProvider\n      defaultOptions={{\n        enableAI: true,\n        enableRealTime: true,\n        debounceMs: 300\n      }}\n    >\n      <div className=\"hybrid-search-example p-6 max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold mb-4 flex items-center gap-3\">\n            <Search className=\"h-8 w-8 text-blue-600\" />\n            Hybrid Search Workflow - UC001 Implementation\n          </h1>\n          <p className=\"text-gray-600 text-lg\">\n            Demonstrating progressive enhancement with local search priority, \n            AI authorization dialog, and performance monitoring.\n          </p>\n        </div>\n        \n        {/* UC001 Requirements Status */}\n        <Card className=\"mb-6 bg-blue-50\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <CheckCircle className=\"h-5 w-5 text-green-600\" />\n              UC001 Requirements Implementation Status\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\">\n              <div className=\"flex items-center gap-2\">\n                <Zap className=\"h-4 w-4 text-green-600\" />\n                <div>\n                  <div className=\"font-medium text-sm\">Local Search <500ms</div>\n                  <Badge variant=\"default\" className=\"text-xs\">Implemented</Badge>\n                </div>\n              </div>\n              \n              <div className=\"flex items-center gap-2\">\n                <Brain className=\"h-4 w-4 text-purple-600\" />\n                <div>\n                  <div className=\"font-medium text-sm\">AI Authorization</div>\n                  <Badge variant=\"default\" className=\"text-xs\">Implemented</Badge>\n                </div>\n              </div>\n              \n              <div className=\"flex items-center gap-2\">\n                <CheckCircle className=\"h-4 w-4 text-blue-600\" />\n                <div>\n                  <div className=\"font-medium text-sm\">Progressive Enhancement</div>\n                  <Badge variant=\"default\" className=\"text-xs\">Implemented</Badge>\n                </div>\n              </div>\n              \n              <div className=\"flex items-center gap-2\">\n                <Settings className=\"h-4 w-4 text-orange-600\" />\n                <div>\n                  <div className=\"font-medium text-sm\">Result Merging</div>\n                  <Badge variant=\"default\" className=\"text-xs\">Implemented</Badge>\n                </div>\n              </div>\n              \n              <div className=\"flex items-center gap-2\">\n                <BarChart3 className=\"h-4 w-4 text-green-600\" />\n                <div>\n                  <div className=\"font-medium text-sm\">Performance Monitor</div>\n                  <Badge variant=\"default\" className=\"text-xs\">Implemented</Badge>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n        \n        {/* Performance Alerts */}\n        {performanceAlerts.length > 0 && (\n          <Alert className=\"mb-6 border-orange-200 bg-orange-50\">\n            <AlertTriangle className=\"h-4 w-4 text-orange-600\" />\n            <AlertDescription>\n              <div className=\"font-medium mb-2\">Performance Alerts</div>\n              <div className=\"space-y-1\">\n                {performanceAlerts.slice(0, 3).map((alert, index) => (\n                  <div key={index} className=\"text-sm text-orange-700\">\n                    ‚Ä¢ {alert}\n                  </div>\n                ))}\n              </div>\n              {performanceAlerts.length > 3 && (\n                <div className=\"text-xs text-orange-600 mt-1\">\n                  +{performanceAlerts.length - 3} more alerts\n                </div>\n              )}\n            </AlertDescription>\n          </Alert>\n        )}\n        \n        {/* Search Metrics Summary */}\n        {searchMetrics && (\n          <Card className=\"mb-6\">\n            <CardHeader>\n              <CardTitle className=\"text-base\">Last Search Results</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm\">\n                <div>\n                  <span className=\"text-gray-600\">Total Results:</span>\n                  <div className=\"font-medium\">{searchMetrics.totalResults}</div>\n                </div>\n                <div>\n                  <span className=\"text-gray-600\">Local Search:</span>\n                  <div className=\"font-medium\">{searchMetrics.localResults}</div>\n                </div>\n                <div>\n                  <span className=\"text-gray-600\">AI Enhancement:</span>\n                  <div className=\"font-medium\">{searchMetrics.aiResults}</div>\n                </div>\n                <div>\n                  <span className=\"text-gray-600\">Search Time:</span>\n                  <div className=\"font-medium\">{searchMetrics.searchTime}ms</div>\n                </div>\n                <div>\n                  <span className=\"text-gray-600\">UC001 Compliance:</span>\n                  <Badge variant={searchMetrics.complianceStatus === 'Compliant' ? 'default' : 'destructive'}>\n                    {searchMetrics.complianceStatus}\n                  </Badge>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n        \n        {/* Main Interface */}\n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-3\">\n            <TabsTrigger value=\"search\" className=\"flex items-center gap-2\">\n              <Search className=\"h-4 w-4\" />\n              Search Interface\n            </TabsTrigger>\n            <TabsTrigger value=\"monitor\" className=\"flex items-center gap-2\">\n              <BarChart3 className=\"h-4 w-4\" />\n              Performance Monitor\n            </TabsTrigger>\n            <TabsTrigger value=\"documentation\" className=\"flex items-center gap-2\">\n              <Info className=\"h-4 w-4\" />\n              Documentation\n            </TabsTrigger>\n          </TabsList>\n          \n          <TabsContent value=\"search\" className=\"mt-6\">\n            <Card>\n              <CardContent className=\"p-6\">\n                <HybridSearchInterface\n                  placeholder=\"Try: 'VSAM Status 35 error', 'S0C7 abend', or 'user@company.com access denied'\"\n                  enablePerformanceMonitor={true}\n                  enableResultSeparation={true}\n                  enableFilters={true}\n                  variant=\"advanced\"\n                  onSearchComplete={handleSearchComplete}\n                  onPerformanceAlert={handlePerformanceAlert}\n                />\n              </CardContent>\n            </Card>\n          </TabsContent>\n          \n          <TabsContent value=\"monitor\" className=\"mt-6\">\n            <PerformanceMonitorDashboard\n              autoRefresh={true}\n              refreshInterval={3000}\n              showAlerts={true}\n              showDetailedMetrics={true}\n            />\n          </TabsContent>\n          \n          <TabsContent value=\"documentation\" className=\"mt-6\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              {/* Implementation Guide */}\n              <Card>\n                <CardHeader>\n                  <CardTitle>Implementation Guide</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div>\n                    <h4 className=\"font-medium mb-2\">1. Progressive Enhancement</h4>\n                    <p className=\"text-sm text-gray-600\">\n                      Local search always executes first and must complete within 500ms. \n                      AI enhancement is added only when beneficial and authorized.\n                    </p>\n                  </div>\n                  \n                  <div>\n                    <h4 className=\"font-medium mb-2\">2. Authorization Flow</h4>\n                    <p className=\"text-sm text-gray-600\">\n                      AI search requires explicit authorization dialog before ANY API call. \n                      Queries with PII or confidential data require additional confirmation.\n                    </p>\n                  </div>\n                  \n                  <div>\n                    <h4 className=\"font-medium mb-2\">3. Result Merging</h4>\n                    <p className=\"text-sm text-gray-600\">\n                      Local and AI results are merged with intelligent deduplication. \n                      Local results are prioritized by default.\n                    </p>\n                  </div>\n                  \n                  <div>\n                    <h4 className=\"font-medium mb-2\">4. Performance Monitoring</h4>\n                    <p className=\"text-sm text-gray-600\">\n                      Real-time tracking of search performance with alerts for \n                      UC001 compliance violations.\n                    </p>\n                  </div>\n                </CardContent>\n              </Card>\n              \n              {/* Test Scenarios */}\n              <Card>\n                <CardHeader>\n                  <CardTitle>Test Scenarios</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div>\n                    <h4 className=\"font-medium mb-2 text-green-600\">‚úì Local-Only Search</h4>\n                    <p className=\"text-sm text-gray-600 mb-2\">Try: \"JCL DISP parameter\"</p>\n                    <p className=\"text-xs text-gray-500\">\n                      Should return local results within 500ms without AI enhancement.\n                    </p>\n                  </div>\n                  \n                  <div>\n                    <h4 className=\"font-medium mb-2 text-blue-600\">üß† AI Enhancement</h4>\n                    <p className=\"text-sm text-gray-600 mb-2\">Try: \"How to debug S0C7 abend?\"</p>\n                    <p className=\"text-xs text-gray-500\">\n                      Should trigger AI enhancement for complex query analysis.\n                    </p>\n                  </div>\n                  \n                  <div>\n                    <h4 className=\"font-medium mb-2 text-orange-600\">üîí Authorization Required</h4>\n                    <p className=\"text-sm text-gray-600 mb-2\">Try: \"user@company.com access denied\"</p>\n                    <p className=\"text-xs text-gray-500\">\n                      Should show authorization dialog due to PII detection.\n                    </p>\n                  </div>\n                  \n                  <div>\n                    <h4 className=\"font-medium mb-2 text-red-600\">‚ö†Ô∏è Performance Test</h4>\n                    <p className=\"text-sm text-gray-600 mb-2\">Monitor: Local search times</p>\n                    <p className=\"text-xs text-gray-500\">\n                      Watch performance dashboard for UC001 compliance tracking.\n                    </p>\n                  </div>\n                </CardContent>\n              </Card>\n              \n              {/* Technical Details */}\n              <Card className=\"lg:col-span-2\">\n                <CardHeader>\n                  <CardTitle>Technical Implementation Details</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div>\n                      <h4 className=\"font-medium mb-3\">Key Components</h4>\n                      <ul className=\"space-y-2 text-sm text-gray-600\">\n                        <li>‚Ä¢ <code className=\"bg-gray-100 px-1 rounded\">HybridSearchService</code> - Core search coordination</li>\n                        <li>‚Ä¢ <code className=\"bg-gray-100 px-1 rounded\">useHybridSearch</code> - React hook for state management</li>\n                        <li>‚Ä¢ <code className=\"bg-gray-100 px-1 rounded\">SearchContext</code> - Global search state</li>\n                        <li>‚Ä¢ <code className=\"bg-gray-100 px-1 rounded\">AIAuthorizationDialog</code> - Authorization UI</li>\n                        <li>‚Ä¢ <code className=\"bg-gray-100 px-1 rounded\">PerformanceMonitorDashboard</code> - Metrics tracking</li>\n                      </ul>\n                    </div>\n                    \n                    <div>\n                      <h4 className=\"font-medium mb-3\">Performance Requirements</h4>\n                      <ul className=\"space-y-2 text-sm text-gray-600\">\n                        <li>‚Ä¢ Local search: <500ms (UC001 requirement)</li>\n                        <li>‚Ä¢ AI search: 2-10s additional</li>\n                        <li>‚Ä¢ Authorization dialog: <2s to display</li>\n                        <li>‚Ä¢ Result merging: <100ms</li>\n                        <li>‚Ä¢ Performance monitoring: Real-time</li>\n                      </ul>\n                    </div>\n                  </div>\n                  \n                  <div className=\"mt-6\">\n                    <h4 className=\"font-medium mb-3\">Integration Example</h4>\n                    <pre className=\"bg-gray-100 p-4 rounded text-xs overflow-x-auto\">\n{`import { HybridSearchInterface, SearchProvider } from './components/search';\n\nexport function App() {\n  return (\n    <SearchProvider\n      defaultOptions={{\n        enableAI: true,\n        enableRealTime: true,\n        debounceMs: 300\n      }}\n    >\n      <HybridSearchInterface\n        enablePerformanceMonitor={true}\n        enableResultSeparation={true}\n        onSearchComplete={(results) => {\n          console.log('Search completed:', results);\n        }}\n        onPerformanceAlert={(metrics) => {\n          if (metrics.exceeded) {\n            console.warn('Performance threshold exceeded');\n          }\n        }}\n      />\n    </SearchProvider>\n  );\n}`}\n                    </pre>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </TabsContent>\n        </Tabs>\n        \n        {/* Footer */}\n        <div className=\"mt-12 text-center text-gray-500 text-sm\">\n          <p>\n            Hybrid Search Workflow Implementation - UC001 Requirements Fulfilled\n          </p>\n          <p className=\"mt-1\">\n            Local search priority ‚Ä¢ AI authorization ‚Ä¢ Progressive enhancement ‚Ä¢ Performance monitoring\n          </p>\n        </div>\n      </div>\n    </SearchProvider>\n  );\n}\n\nexport default HybridSearchExample;"