/**
 * Enhanced Design System Components
 * Sophisticated component styles with enhanced color system integration
 *
 * This file defines:
 * - Enhanced component base styles and variants
 * - Advanced state definitions with smooth transitions
 * - Sophisticated interaction patterns and animations
 * - Responsive component behavior with color-aware design
 * - Enhanced accessibility requirements (WCAG AA/AAA)
 * - Advanced component composition patterns
 * - Gradient and glow effect integration
 */

/* ==========================================
   BUTTON COMPONENTS
   Primary interactive elements
   ========================================== */

.btn {
  /* Base button structure */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-family-body);
  font-weight: var(--font-weight-medium);
  border-radius: var(--border-radius-button);
  border: var(--border-width-1) solid transparent;
  cursor: pointer;
  text-decoration: none;
  white-space: nowrap;
  user-select: none;
  transition: var(--transition-button);
  position: relative;
  overflow: hidden;

  /* Remove default button styles */
  background: none;
  appearance: none;
  -webkit-appearance: none;

  /* Focus states */
  outline: none;
}

.btn:focus-visible {
  box-shadow: var(--shadow-focus);
  outline: 2px solid transparent;
  outline-offset: 2px;
}

.btn:disabled,
.btn[aria-disabled="true"] {
  opacity: 0.6;
  cursor: not-allowed;
  pointer-events: none;
}

/* Button Sizes */
.btn-xs {
  padding: var(--button-padding-xs);
  font-size: var(--button-font-size-xs);
  line-height: var(--line-height-tight);
  min-height: 1.5rem;
  gap: var(--space-2);
}

.btn-sm {
  padding: var(--button-padding-sm);
  font-size: var(--button-font-size-sm);
  line-height: var(--line-height-tight);
  min-height: 2rem;
  gap: var(--space-2);
}

.btn-md {
  padding: var(--button-padding-md);
  font-size: var(--button-font-size-md);
  line-height: var(--line-height-normal);
  min-height: 2.5rem;
  gap: var(--space-4);
}

.btn-lg {
  padding: var(--button-padding-lg);
  font-size: var(--button-font-size-lg);
  line-height: var(--line-height-normal);
  min-height: 3rem;
  gap: var(--space-4);
}

.btn-xl {
  padding: var(--button-padding-xl);
  font-size: var(--button-font-size-xl);
  line-height: var(--line-height-normal);
  min-height: 3.5rem;
  gap: var(--space-6);
}

/* Enhanced Button Variants */
.btn-primary {
  background: var(--gradient-brand-primary);
  color: var(--text-on-brand);
  box-shadow: var(--shadow-brand);
  border: 1px solid transparent;
}

.btn-primary:hover:not(:disabled) {
  background: var(--surface-brand-hover);
  box-shadow: var(--shadow-brand), var(--shadow-button-hover);
  transform: translateY(-1px);
  border-color: var(--border-brand-hover);
}

.btn-primary:active:not(:disabled) {
  background: var(--surface-brand-active);
  transform: translateY(0);
  box-shadow: var(--shadow-brand);
  border-color: var(--border-brand-active);
}

.btn-primary:focus-visible {
  box-shadow: var(--shadow-focus), var(--shadow-brand);
}

.btn-secondary {
  background-color: var(--color-interactive-secondary);
  color: var(--color-text-primary);
  border-color: var(--color-border-default);
}

.btn-secondary:hover:not(:disabled) {
  background-color: var(--color-interactive-secondary-hover);
  border-color: var(--color-border-strong);
}

.btn-secondary:active:not(:disabled) {
  background-color: var(--color-interactive-secondary-active);
}

.btn-outline {
  background-color: transparent;
  color: var(--color-text-primary);
  border-color: var(--color-border-default);
}

.btn-outline:hover:not(:disabled) {
  background-color: var(--color-surface-subtle);
  border-color: var(--color-border-strong);
}

.btn-outline:active:not(:disabled) {
  background-color: var(--color-surface-muted);
}

.btn-ghost {
  background-color: transparent;
  color: var(--color-text-secondary);
  border-color: transparent;
}

.btn-ghost:hover:not(:disabled) {
  background-color: var(--color-surface-subtle);
  color: var(--color-text-primary);
}

.btn-ghost:active:not(:disabled) {
  background-color: var(--color-surface-muted);
}

/* Status Button Variants */
.btn-success {
  background-color: var(--color-success);
  color: var(--color-text-on-primary);
}

.btn-success:hover:not(:disabled) {
  background-color: var(--color-success-hover);
}

.btn-success:active:not(:disabled) {
  background-color: var(--color-success-active);
}

.btn-warning {
  background-color: var(--color-warning);
  color: var(--color-text-primary);
}

.btn-warning:hover:not(:disabled) {
  background-color: var(--color-warning-hover);
}

.btn-warning:active:not(:disabled) {
  background-color: var(--color-warning-active);
}

.btn-error {
  background-color: var(--color-error);
  color: var(--color-text-on-primary);
}

.btn-error:hover:not(:disabled) {
  background-color: var(--color-error-hover);
}

.btn-error:active:not(:disabled) {
  background-color: var(--color-error-active);
}

/* Button Modifiers */
.btn-full-width {
  width: 100%;
}

.btn-loading {
  color: transparent;
}

.btn-loading::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 1rem;
  height: 1rem;
  border: 2px solid currentColor;
  border-top-color: transparent;
  border-radius: var(--border-radius-full);
  animation: spin var(--duration-slow) linear infinite;
}

@keyframes spin {
  to {
    transform: translate(-50%, -50%) rotate(360deg);
  }
}

/* ==========================================
   INPUT COMPONENTS
   Form input elements
   ========================================== */

.input {
  /* Base input structure */
  width: 100%;
  background-color: var(--color-surface-elevated);
  border: var(--input-border-width) solid var(--color-border-default);
  border-radius: var(--input-border-radius);
  padding: var(--input-padding);
  font-size: var(--input-font-size);
  line-height: var(--input-line-height);
  color: var(--color-text-primary);
  transition: var(--transition-input);
  appearance: none;
}

.input:focus {
  outline: none;
  border-color: var(--color-border-focus);
  box-shadow: var(--shadow-focus);
}

.input:disabled {
  background-color: var(--color-surface-disabled);
  border-color: var(--color-border-disabled);
  color: var(--color-text-disabled);
  cursor: not-allowed;
}

.input::placeholder {
  color: var(--color-text-placeholder);
}

/* Input Variants */
.input-sm {
  padding: var(--space-2) var(--space-4);
  font-size: var(--font-size-sm);
}

.input-lg {
  padding: var(--space-8) var(--space-12);
  font-size: var(--font-size-lg);
}

/* Input States */
.input-error {
  border-color: var(--color-border-error);
}

.input-error:focus {
  border-color: var(--color-error);
  box-shadow: var(--shadow-focus-error);
}

.input-success {
  border-color: var(--color-border-success);
}

.input-success:focus {
  border-color: var(--color-success);
  box-shadow: var(--shadow-focus-success);
}

/* ==========================================
   CARD COMPONENTS
   Content containers and surfaces
   ========================================== */

.card {
  background-color: var(--color-surface-elevated);
  border: var(--card-border-width) solid var(--color-border-default);
  border-radius: var(--card-border-radius);
  box-shadow: var(--shadow-card);
  transition: var(--transition-button);
  overflow: hidden;
}

.card:hover {
  box-shadow: var(--shadow-card-hover);
  transform: translateY(-2px);
}

.card-sm {
  padding: var(--card-padding-sm);
}

.card-md {
  padding: var(--card-padding);
}

.card-lg {
  padding: var(--card-padding-lg);
}

/* Card Components */
.card-header {
  padding: var(--space-12) var(--space-16);
  border-bottom: var(--border-width-1) solid var(--color-border-default);
  background-color: var(--color-surface-subtle);
}

.card-body {
  padding: var(--space-16);
}

.card-footer {
  padding: var(--space-12) var(--space-16);
  border-top: var(--border-width-1) solid var(--color-border-default);
  background-color: var(--color-surface-subtle);
}

/* ==========================================
   BADGE/TAG COMPONENTS
   Small informational elements
   ========================================== */

.badge {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-1) var(--space-4);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-medium);
  line-height: var(--line-height-tight);
  border-radius: var(--border-radius-full);
  white-space: nowrap;
  border: var(--border-width-1) solid transparent;
}

.badge-sm {
  padding: var(--space-1) var(--space-2);
  font-size: 0.625rem;
}

.badge-lg {
  padding: var(--space-2) var(--space-6);
  font-size: var(--font-size-sm);
}

/* Badge Variants */
.badge-primary {
  background-color: var(--color-primary-100);
  color: var(--color-primary-800);
  border-color: var(--color-primary-200);
}

.badge-secondary {
  background-color: var(--color-surface-muted);
  color: var(--color-text-primary);
  border-color: var(--color-border-default);
}

.badge-success {
  background-color: var(--color-surface-success);
  color: var(--color-success-800);
  border-color: var(--color-border-success);
}

.badge-warning {
  background-color: var(--color-surface-warning);
  color: var(--color-warning-800);
  border-color: var(--color-border-warning);
}

.badge-error {
  background-color: var(--color-surface-error);
  color: var(--color-error-800);
  border-color: var(--color-border-error);
}

/* ==========================================
   MODAL/DIALOG COMPONENTS
   Overlay and modal patterns
   ========================================== */

.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgb(0 0 0 / 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-16);
  z-index: var(--z-index-modal);
  transition: var(--transition-modal);
}

.modal {
  background-color: var(--color-surface-elevated);
  border-radius: var(--modal-border-radius);
  box-shadow: var(--shadow-modal);
  padding: var(--modal-padding);
  max-width: var(--modal-max-width-md);
  max-height: 90vh;
  width: 100%;
  overflow-y: auto;
  transform: scale(1);
  transition: var(--transition-modal);
}

.modal-sm {
  max-width: var(--modal-max-width-sm);
}

.modal-lg {
  max-width: var(--modal-max-width-lg);
}

.modal-xl {
  max-width: var(--modal-max-width-xl);
}

/* Modal Components */
.modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-bottom: var(--space-12);
  border-bottom: var(--border-width-1) solid var(--color-border-default);
  margin-bottom: var(--space-16);
}

.modal-title {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
}

.modal-close {
  background: none;
  border: none;
  color: var(--color-text-tertiary);
  cursor: pointer;
  padding: var(--space-2);
  border-radius: var(--border-radius-sm);
  transition: var(--transition-colors);
}

.modal-close:hover {
  color: var(--color-text-primary);
  background-color: var(--color-surface-subtle);
}

.modal-body {
  color: var(--color-text-primary);
  line-height: var(--line-height-relaxed);
}

.modal-footer {
  display: flex;
  gap: var(--space-8);
  justify-content: flex-end;
  padding-top: var(--space-16);
  border-top: var(--border-width-1) solid var(--color-border-default);
  margin-top: var(--space-16);
}

/* ==========================================
   TABLE COMPONENTS
   Data display and tabular layouts
   ========================================== */

.table {
  width: 100%;
  border-collapse: collapse;
  background-color: var(--color-surface-elevated);
}

.table th,
.table td {
  padding: var(--table-padding);
  text-align: left;
  border-bottom: var(--table-border-width) solid var(--color-border-default);
  vertical-align: top;
}

.table th {
  background-color: var(--color-surface-subtle);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  padding: var(--table-header-padding);
  position: sticky;
  top: 0;
  z-index: var(--z-index-docked);
}

.table tbody tr:hover {
  background-color: var(--color-surface-subtle);
}

.table-striped tbody tr:nth-child(even) {
  background-color: var(--color-surface-subtle);
}

.table-sm th,
.table-sm td {
  padding: var(--space-4) var(--space-8);
}

.table-lg th,
.table-lg td {
  padding: var(--space-12) var(--space-16);
}

/* ==========================================
   NAVIGATION COMPONENTS
   Navigation patterns and components
   ========================================== */

.nav {
  display: flex;
  list-style: none;
  margin: 0;
  padding: 0;
}

.nav-item {
  position: relative;
}

.nav-link {
  display: block;
  padding: var(--space-8) var(--space-12);
  color: var(--color-text-secondary);
  text-decoration: none;
  border-radius: var(--border-radius-md);
  transition: var(--transition-colors);
  font-weight: var(--font-weight-medium);
}

.nav-link:hover {
  color: var(--color-text-primary);
  background-color: var(--color-surface-subtle);
}

.nav-link.active {
  color: var(--color-text-accent);
  background-color: var(--color-surface-accent);
}

/* Breadcrumb Navigation */
.breadcrumb {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  list-style: none;
  margin: 0;
  padding: 0;
}

.breadcrumb-item::after {
  content: "/";
  margin-left: var(--space-4);
  color: var(--color-text-tertiary);
}

.breadcrumb-item:last-child::after {
  display: none;
}

/* ==========================================
   LOADING STATES
   Progress and loading indicators
   ========================================== */

.spinner {
  width: 1rem;
  height: 1rem;
  border: 2px solid var(--color-border-default);
  border-top-color: var(--color-interactive-primary);
  border-radius: var(--border-radius-full);
  animation: spin var(--duration-slow) linear infinite;
}

.spinner-sm {
  width: 0.75rem;
  height: 0.75rem;
  border-width: 1px;
}

.spinner-lg {
  width: 1.5rem;
  height: 1.5rem;
  border-width: 3px;
}

.progress-bar {
  width: 100%;
  height: 0.5rem;
  background-color: var(--color-surface-muted);
  border-radius: var(--border-radius-full);
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background-color: var(--color-interactive-primary);
  border-radius: var(--border-radius-full);
  transition: width var(--duration-slow) var(--easing-smooth);
}

/* ==========================================
   ALERT/NOTIFICATION COMPONENTS
   Status messages and notifications
   ========================================== */

.alert {
  padding: var(--space-12) var(--space-16);
  border-radius: var(--border-radius-md);
  border: var(--border-width-1) solid;
  margin-bottom: var(--space-16);
  position: relative;
}

.alert-info {
  background-color: var(--color-surface-accent);
  border-color: var(--color-border-accent);
  color: var(--color-text-primary);
}

.alert-success {
  background-color: var(--color-surface-success);
  border-color: var(--color-border-success);
  color: var(--color-text-success);
}

.alert-warning {
  background-color: var(--color-surface-warning);
  border-color: var(--color-border-warning);
  color: var(--color-text-warning);
}

.alert-error {
  background-color: var(--color-surface-error);
  border-color: var(--color-border-error);
  color: var(--color-text-error);
}

.alert-title {
  font-weight: var(--font-weight-semibold);
  margin-bottom: var(--space-4);
}

.alert-dismiss {
  position: absolute;
  top: var(--space-8);
  right: var(--space-8);
  background: none;
  border: none;
  color: currentColor;
  cursor: pointer;
  padding: var(--space-2);
  border-radius: var(--border-radius-sm);
  transition: var(--transition-colors);
}

.alert-dismiss:hover {
  background-color: rgb(0 0 0 / 0.1);
}

/* ==========================================
   FORM GROUP PATTERNS
   Standardized form layouts
   ========================================== */

.form-group {
  margin-bottom: var(--form-group-spacing);
}

.form-label {
  display: block;
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  margin-bottom: var(--form-label-spacing);
  font-size: var(--font-size-sm);
}

.form-help {
  font-size: var(--font-size-sm);
  color: var(--color-text-tertiary);
  margin-top: var(--form-error-spacing);
}

.form-error {
  font-size: var(--font-size-sm);
  color: var(--color-text-error);
  margin-top: var(--form-error-spacing);
}

/* ==========================================
   RESPONSIVE DESIGN PATTERNS
   Mobile-first responsive utilities
   ========================================== */

@media (max-width: 640px) {
  .modal {
    margin: var(--space-8);
    padding: var(--space-16);
  }

  .table {
    font-size: var(--font-size-sm);
  }

  .table th,
  .table td {
    padding: var(--space-6) var(--space-4);
  }

  .btn-lg,
  .btn-xl {
    padding: var(--button-padding-md);
    font-size: var(--button-font-size-md);
  }
}

/* ==========================================
   HIGH CONTRAST MODE
   Enhanced contrast for accessibility
   ========================================== */

@media (prefers-contrast: high) {
  .btn {
    border-width: var(--border-width-2);
  }

  .card,
  .input,
  .alert {
    border-width: var(--border-width-2);
  }
}

/* ==========================================
   REDUCED MOTION
   Respect user motion preferences
   ========================================== */

@media (prefers-reduced-motion: reduce) {
  .btn,
  .input,
  .card,
  .modal,
  .spinner,
  .progress-fill,
  .nav-link,
  .alert-dismiss {
    animation: none;
    transition: none;
  }

  .btn:hover,
  .card:hover {
    transform: none;
  }
}